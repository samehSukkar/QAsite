{% extends "QA\base.html"%}

{% block content %}


{% if not request.user.is_authenticated %}

<section style="background-color: #eee;">
  
  <div class="container p-5 h-custom">

    <div class="row d-flex justify-content-center align-items-center">
      <div class="col-lg-12 col-xl-10">

        <div class="card text-black" style="border-radius: 25px;">
          <div class="card-body p-md-5">

            <div class="row justify-content-center">

              <div class="col-md-10 col-lg-6 col-xl-5 order-2 order-lg-1">
                
                <p class="text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4">Sign up</p>
                <!--  -->
                <form class="mx-1 mx-md-4" method="post">
                  {% csrf_token %}

                  <div class="d-flex flex-row align-items-center mb-4">
                      <i class="fas fa-user fa-lg me-3 fa-fw"></i>
                      {{form.username}}
                  </div>
                  
                  <div class="d-flex flex-row align-items-center mb-4">
                      <i class="fas fa-lock fa-lg me-3 fa-fw"></i>
                      {{form.password1}}
                  </div>
                  
                  <div class="d-flex flex-row align-items-center mb-4">
                      <i class="fas fa-key fa-lg me-3 fa-fw"></i>
                      {{form.password2}}
                  </div>


                  <div class="form-check d-flex justify-content-center mb-5">
                    <input class="form-check-input me-2" type="checkbox" value="" id="form2Example3c" />
                    <label class="form-check-label" for="form2Example3">
                      I agree all statements in <a href="#!" onclick="myFunction()">Terms of service</a>
                    </label>
                  </div>
                
                  <div class="d-flex justify-content-center mx-4 mb-3 mb-lg-4">
                    <button type="submit" value="register" class="btn btn-primary px-3 py-2">Register</button>
                    
                  </div>

                  {% for field in form %}
                    <p>                      
                        {% for error in field.errors %}
                          <p style="color: red">{{ error }}</p>
                        {% endfor %}
                    </p>
                 {% endfor %}
                </form>              

               </div>

               <div class="col-md-10 col-lg-6 col-xl-7 d-flex align-items-center order-1 order-lg-2">

                <img src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/draw1.webp"
                  class="img-fluid" alt="Sample image">

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

    
      {% else %}

      <p class="text-center my-auto text-capitalize ">
        Logout to register new acount<br>
         <a href="{% url 'logout' %}">Logout</a>
      </p>
     
      {% endif %}

      <script>
        
        var usernameBox = document.getElementById("id_username");
        usernameBox.setAttribute('placeholder', 'Enter a valid Username');
        usernameBox.setAttribute('class', 'form-control ');

        var passwordBox = document.getElementById("id_password1");
        passwordBox.setAttribute('placeholder', 'Password');
        passwordBox.setAttribute('class', 'form-control ');
        
        var passwordBox = document.getElementById("id_password2");
        passwordBox.setAttribute('placeholder', 'Repeat your Password');
        passwordBox.setAttribute('class', 'form-control ');
     

    </script>

    <script>
      function myFunction() {
        alert("WHO REALLY CARES ?!!");
      }
    </script>
    
{% endblock %}





<form method="post">
  {% csrf_token %}
  {% for field in form %}
  <p>
        {{ field.label_tag }}<br>
        {{ field }}
        {% if field.help_text %}
          <small style="color: grey">{{ field.help_text }}</small>
        {% endif %}
        {% for error in field.errors %}
          <p style="color: red">{{ error }}</p>
        {% endfor %}
      </p>
      {% endfor %}
    <button type="submit">Sign up</button>
  </form> 


